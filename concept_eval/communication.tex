% !TEX root = main.tex

\section{Communication}
\label{sec:communication}
The communication module is the link between the offboard system and the individual robots. To facilitate real-time changes in the working schedule, communication will be speedy and reliable. Potential communication protocols include WiFi and Bluetooth. Communication between the offboard system will allow individual robots to know their progress relative to the entire drawing (Requirements Specification, 5.1, FR10). \\
\textbf{Critical Components:} Antennae, wireless communication protocol. \\

\subsection{Use Cases}

\subsection{Trade Study}

\subsection{Software Architecture}
\label{sec:sw_arch_communication}

\begin{figure}[h!]
 \centering
  \includegraphics[width=0.99\columnwidth]{diagrams/sw_arch_communication.jpg}
	\caption{Communication Software Pipeline}
 \label{fig:comm_processing}
\end{figure}

The communication diagram (\figref{fig:comm_processing}) describes how an individual robot communicates with the offboard path planning system. The system can be described by communciation in four categories: motion commands, writing tool commands, error handling, and localization.

The offboard system will use the planning algorithm to determine motion plans for the robot systems. It determines and then sends velocity commands to the onboard system. The onboard system passes these commands to the drive motors for motion.

To command the writing tool, the offboard system also decides how to move the writing implement based on localization of the robot systems. Similar to velocity commands, the onboard system receives commands for the writing tool, and commands the system accordingly.

Localization receives input from the sensor module, and computes position and orientation. This data is then sent back to the central offboard module to update planning and scheduling.

Error logs are generated by the offboard system based on localization and planning, and sent to each robot's onboard system for appropriate reaction. This includes the emergency stop, which will immediately shut down writing tool and drive motors.

